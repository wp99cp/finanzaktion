<h1>Spendenstand und Live-Feed</h1>

<p>Auf dieser Seite erfährst du stets den aktuellen Spendenstand, sowie viele Spannende Eindrücke in unsere
  Aktionswoche. Danke für eure Spende! Wir schätzen euer Engagement für den Cevi Züri 11 sehr. .</p>

<script src="node_modules/chart.js/src/chart.js"></script>


<div class="live-feed" *ngIf="(liveFeed | async) as liveFeed">

  <ng-container *ngFor="let liveContainer of liveFeed">
    <div class="live-container" *ngIf="liveContainer.type == 'text'">

    <span class="container-time"> {{liveContainer.date.toDate().toLocaleString('de-CH', {
      weekday: 'long',
      day: 'numeric',
      month: 'long',
      hour: 'numeric',
      minute: 'numeric'
    })}} </span>

      <h3> {{liveContainer.title}} </h3>
      <p> {{liveContainer.content}} </p>

      <figure>
      <img src="{{liveContainer.img}}">
      </figure>

    </div>

    <div class="live-container" *ngIf="liveContainer.type == 'fundraising'">

      <span class="container-time"> {{liveContainer.date.toDate().toLocaleString('de-CH', {
        weekday: 'long',
        day: 'numeric',
        month: 'long',
        hour: 'numeric',
        minute: 'numeric'
      })}} </span>

      <h3> {{liveContainer.title}} </h3>

      <p>Unser Ziel ist es {{spendenziel}} CHF zu sammeln, davon haben wir
        bereits {{liveContainer.fundraising.total_CHF.toFixed(2)}} CHF gesammelt. Insgesamt haben die Leiter/innen und
        Teilnehmer des Cevi Züri 11 bereits {{liveContainer.fundraising.total_km.toFixed(2)}} km zurückgelegt.</p>

      <br>

      <canvas baseChart
              [datasets]="[{
                data: [liveContainer.fundraising.total_CHF.toFixed(2), (spendenziel - liveContainer.fundraising.total_CHF.toFixed(2)) > 0 ? (spendenziel - liveContainer.fundraising.total_CHF.toFixed(2)) : 0], label: 'gesammelt'}]"
              [labels]="barChartLabels"
              [options]="barChartOptions"
              [legend]="barChartLegend"
              [chartType]="barChartType">
      </canvas>

    </div>

  </ng-container>


</div>

